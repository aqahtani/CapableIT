include form-mixins

//- Modal: Add DevelopmentActivity Form
mixin modalAddDevelopmentActivity(modalId)
  .modal.fade(id="#{modalId}")
    .modal-dialog.modal-lg
      form(method='post').form-horizontal.modal-content
        input(type='hidden', name='action', value='create-activity')
        .modal-header
          button(type="button", data-dismiss="modal").close
            span(aria-hidden="true") &times;
            span.sr-only Close
          h4.modal-title Add Development Activity
        .modal-body
          .row
            .col-sm-12
              .form-group(class=validationErrors.title ? 'has-error' : null)
                label(for='title').col-sm-2.control-label  Title
                .col-sm-10: input(type='text', name='title', id='title', placeholder='activity title', required).form-control
          
          .row
            .col-sm-6
              .form-group(class=validationErrors.method ? 'has-error' : null)
                label(for='method').col-sm-4.control-label  Method
                .col-sm-8: +formSelect2List('method', developmentMethods, null)
            
            .col-sm-6
              .form-group(class=validationErrors.duration ? 'has-error' : null)
                label(for='duration').col-sm-4.control-label  Duration (days)
                .col-sm-8: input(type='number', step='0.5', min='0.5', name='duration', id='duration', required).form-control

          .row
            .col-sm-6
              .form-group(class=validationErrors.deadline ? 'has-error' : null)
                label(for='deadline').col-sm-4.control-label  Deadline
                .col-sm-8: input(type='text', name='deadline', id='deadline', required).form-control.datepicker
          
            .col-sm-6
              .form-group(class=validationErrors.progress ? 'has-error' : null)
                label(for='progress').col-sm-4.control-label  Progress (%)
                .col-sm-8: input(type='number', step='1', min='0', max='100', name='progress', id='progress', required).form-control
          hr
          .row
            .col-sm-12
              .form-group(class=validationErrors.targetHardSkills ? 'has-error' : null)
                label(for='targetHardSkills').col-sm-2.control-label Target Hard Skills
                .col-sm-10: +formSelect2Multiple('targetHardSkills', hardSkills)

          .row
            .col-sm-12
              .form-group(class=validationErrors.targetSoftSkills ? 'has-error' : null)
                label(for='targetSoftSkills').col-sm-2.control-label Target Soft Skills
                .col-sm-10: +formSelect2Multiple('targetSoftSkills', softSkills)
          hr
          .row
            .col-sm-12
              .form-group(class=validationErrors.remarks ? 'has-error' : null)
                label(for='remarks').col-sm-2.control-label  Remarks
                .col-sm-10: textarea(name='remarks', id='remarks', rows='3', placeholder='details, resources, and general remarks').form-control
          
        .modal-footer
          button(type='submit').btn.btn-info Add
          button(type="button", data-dismiss="modal").btn Cancel


//- Modal: Edit DevelopmentActivity Form
mixin modalEditDevelopmentActivity(modalId, activity)
  .modal.fade(id="#{modalId}")
    .modal-dialog.modal-lg
      form(method='post').form-horizontal.modal-content
        input(type='hidden', name='action', value='update-activity')
        input(type='hidden', name='activityId', value=activity.id)
        .modal-header
          button(type="button", data-dismiss="modal").close
            span(aria-hidden="true") &times;
            span.sr-only Close
          h4.modal-title Edit Development Activity
        .modal-body
          .row
            .col-sm-12
              .form-group(class=validationErrors.title ? 'has-error' : null)
                label(for='title').col-sm-2.control-label  Title
                .col-sm-10: input(type='text', name='title', id='title', value=activity.title, required).form-control
          
          .row
            .col-sm-6
              .form-group(class=validationErrors.method ? 'has-error' : null)
                label(for='method').col-sm-4.control-label  Method
                .col-sm-8: +formSelect2List('method', developmentMethods, activity.method)

            .col-sm-6
              .form-group(class=validationErrors.duration ? 'has-error' : null)
                label(for='duration').col-sm-4.control-label  Duration (days)
                .col-sm-8: input(type='number', step='0.5', min='0.5', name='duration', id='duration', value=activity.duration, required).form-control

          .row
            .col-sm-6
              .form-group(class=validationErrors.deadline ? 'has-error' : null)
                label(for='deadline').col-sm-4.control-label  Deadline
                .col-sm-8: input(type='text', name='deadline', id='deadline', value=activity._.deadline.format('YYYY-MM-DD'), required).form-control.datepicker
          
            .col-sm-6
              .form-group(class=validationErrors.progress ? 'has-error' : null)
                label(for='progress').col-sm-4.control-label  Progress (%)
                .col-sm-8: input(type='number', step='1', min='0', max='100', name='progress', id='progress', value=activity.progress, required).form-control

          hr
          .row
            .col-sm-12
              .form-group(class=validationErrors.targetHardSkills ? 'has-error' : null)
                label(for='targetHardSkills').col-sm-2.control-label Target Hard Skills
                .col-sm-10: +formSelect2Multiple('targetHardSkills', hardSkills, _.pluck(activity.targetHardSkills, '_id'))

          .row
            .col-sm-12
              .form-group(class=validationErrors.targetSoftSkills ? 'has-error' : null)
                label(for='targetSoftSkills').col-sm-2.control-label Target Soft Skills
                .col-sm-10: +formSelect2Multiple('targetSoftSkills', softSkills, _.pluck(activity.targetSoftSkills, '_id'))
          hr
          .row
            .col-sm-12
              .form-group(class=validationErrors.remarks ? 'has-error' : null)
                label(for='remarks').col-sm-2.control-label  Remarks
                .col-sm-10: textarea(name='remarks', id='remarks', rows='3').form-control= activity.remarks
          
        .modal-footer
          button(type='submit').btn.btn-danger Update
          button(type="button", data-dismiss="modal").btn Cancel

//- Modal: Delete DevelopmentActivity Form
mixin modalDeleteDevelopmentActivity(modalId, activity)
  .modal.fade(id="#{modalId}")
    .modal-dialog
      form(method='post').modal-content
        input(type='hidden', name='action', value='delete-activity')
        input(type='hidden', name='activityId', value=activity.id)
        .modal-header
          button(type="button", data-dismiss="modal").close
            span(aria-hidden="true") &times;
            span.sr-only Close
          h4.modal-title Delete Development Activity
        .modal-body
          p Are you sure you want to delete this activity?

          dl.dl-horizontal
            dt Title
            dd= activity.title
            dt Duration
            dd #{utils.plural(activity.duration, '* day')}
            dt Deadline
            dd=activity._.deadline.format('YYYY-MM-DD')
            dt Progress
            dd #{activity.progress}%
            
        .modal-footer
          button(type='submit').btn.btn-danger Delete
          button(type="button", data-dismiss="modal").btn Cancel

//- Modal: View DevelopmentActivity
mixin modalViewDevelopmentActivity(modalId, activity)
  .modal.fade(id="#{modalId}")
    .modal-dialog
      .modal-content
        .modal-header
          button(type="button", data-dismiss="modal").close
            span(aria-hidden="true") &times;
            span.sr-only Close
          h4.modal-title Development Activity
        .modal-body
          dl.dl-horizontal
            dt Title
            dd= activity.title
            dt Method
            dd= activity.method.title
            dt Duration
            dd #{utils.plural(activity.duration, '* day')}
            dt Deadline
            dd=activity._.deadline.format('YYYY-MM-DD')
            dt Progress
            dd #{activity.progress}%
          hr
          dl
            dt Target Skills
            dd
              if activity.targetHardSkills
                each thSkill in activity.targetHardSkills
                  +skillLabel(thSkill, 'label-danger')
              if activity.targetSoftSkills
                each tsSkill in activity.targetSoftSkills
                  +skillLabel(tsSkill, 'label-warning')
          hr
          dl
            dt Remarks
            dd: p.multi-line= activity.remarks
          
        .modal-footer
          button(type="button", data-dismiss="modal").btn.btn-primary Close